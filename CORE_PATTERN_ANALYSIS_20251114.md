# 📊 Core Pattern 분석: 1box_hori_left_core_medium

**Date:** 2025-11-14  
**분석 대상:** `1box_hori_left_core_medium` (93개 에피소드)  
**목적:** Core 패턴의 일관성 및 경로(속도) 분석

## 🎯 Core 패턴의 의미

**Core 패턴은 장애물 앞까지 도착하기까지의 궤적을 학습하는 것**  
- 같은 경로(속도)로 가야 함
- 일관된 trajectory가 중요
- 학습 시 동일한 패턴을 반복하여 모델이 정확한 경로를 학습하도록 함

## 📋 Trajectory 패턴 분석 결과

### 총 고유 패턴: **5개**

#### 패턴 1: 주요 패턴 (79회, 88.8%)
**Trajectory:** `SWWWWAQQQQQQQWWWWE`

**프레임별 액션:**
```
Frame  0: S (정지 - episode_start)
Frame  1-4: W (전진 4회)
Frame  5: A (좌 1회)
Frame  6-11: Q (전진+좌 대각선 6회)
Frame  12-15: W (전진 4회)
Frame  17: E (전진+우 1회)
```

**해석:**
- 시작 위치에서 전진 4회
- 좌로 이동 1회
- 대각선(전진+좌)으로 6회 이동
- 다시 전진 4회
- 마지막에 전진+우로 조정

#### 패턴 2: 변형 패턴 (6회, 6.7%)
**Trajectory:** `SWWWAAQQQQQQQWWWWW`

**차이점:**
- Frame 4: `W` → `A` (전진 대신 좌로 이동)
- Frame 5: `A` → `A` (동일)
- Frame 17: `E` → `W` (전진+우 대신 전진)

**해석:**
- 좌로 이동을 1회 더 빠르게 시작
- 마지막 조정 없이 전진으로 종료

#### 패턴 3: 변형 패턴 (2회, 2.2%)
**Trajectory:** `SWWWAQQQQQQQWWWWWW`

**차이점:**
- Frame 3: `W` → `W` (동일)
- Frame 4: `W` → `A` (전진 대신 좌로 이동)
- Frame 5: `A` → `Q` (좌 대신 대각선으로 바로 전환)
- Frame 12: `Q` → `W` (대각선이 1회 짧음)
- Frame 17: `E` → `W` (전진+우 대신 전진)

**해석:**
- 좌로 이동을 더 빠르게 시작하고 대각선으로 바로 전환
- 대각선 구간이 1회 짧음
- 마지막 조정 없이 전진으로 종료

#### 패턴 4: 변형 패턴 (1회, 1.1%)
**Trajectory:** `SWWWWAAQQQQQQQWWWW`

**차이점:**
- Frame 4: `W` → `W` (동일)
- Frame 5: `A` → `A` (동일)
- Frame 6: `Q` → `A` (대각선 대신 좌로 이동)
- Frame 7: `Q` → `Q` (대각선 시작)
- Frame 13: `W` → `Q` (전진 대신 대각선)
- Frame 14-17: `W` → `W` (동일)

**해석:**
- 좌로 이동이 2회 연속
- 대각선 구간이 1회 늦게 시작
- 마지막에 대각선이 1회 더 있음

#### 패턴 5: 변형 패턴 (1회, 1.1%)
**Trajectory:** `SWWWWAQQQQQQQWWWWW`

**차이점:**
- Frame 17: `E` → `W` (전진+우 대신 전진)

**해석:**
- 주요 패턴과 거의 동일하지만 마지막 조정이 없음

## 📊 패턴별 통계

| 패턴 | 횟수 | 비율 | 일관성 |
|------|------|------|--------|
| 패턴 1 (주요) | 79회 | 88.8% | ✅ 높음 |
| 패턴 2 | 6회 | 6.7% | ⚠️ 중간 |
| 패턴 3 | 2회 | 2.2% | ⚠️ 낮음 |
| 패턴 4 | 1회 | 1.1% | ⚠️ 낮음 |
| 패턴 5 | 1회 | 1.1% | ⚠️ 낮음 |

## 🔍 차이점 분석

### 주요 차이점 요약

1. **좌로 이동 타이밍 (Frame 4-5)**
   - 주요 패턴: `W` → `A` (전진 후 좌)
   - 변형 패턴: `A` → `A` (좌를 더 빠르게 시작)

2. **대각선 구간 길이 (Frame 6-11)**
   - 주요 패턴: `Q` 6회 연속
   - 변형 패턴: `Q` 5회 또는 7회

3. **마지막 조정 (Frame 17)**
   - 주요 패턴: `E` (전진+우로 조정)
   - 변형 패턴: `W` (전진으로 종료)

## ⚠️ Core 패턴 일관성 평가

### ✅ 긍정적 측면

1. **주요 패턴 비율이 높음 (88.8%)**
   - 대부분의 에피소드가 동일한 경로를 따름
   - 학습에 충분한 일관성 제공

2. **변형 패턴의 차이가 작음**
   - 대부분 Frame 4-5, Frame 17에서만 차이
   - 전체 경로 구조는 유사

### ⚠️ 개선 필요 사항

1. **변형 패턴 존재 (11.2%)**
   - 5개의 다른 패턴이 존재
   - Core는 같은 경로(속도)로 가야 하므로 일관성 향상 필요

2. **가이드 정확도 향상 필요**
   - 데이터 수집 시 가이드를 더 정확히 따르도록 개선
   - 특히 Frame 4-5, Frame 17의 일관성 확보

## 🎯 결론 및 권장사항

### 현재 상태
- **일관성:** 88.8% (주요 패턴)
- **고유 패턴:** 5개
- **학습 가능성:** ✅ 충분함

### 권장사항

1. **가이드 정확도 향상**
   - 데이터 수집 시 가이드를 더 정확히 따르도록 개선
   - 특히 좌로 이동 타이밍 (Frame 4-5)과 마지막 조정 (Frame 17) 일관성 확보

2. **변형 패턴 최소화**
   - Core 패턴은 같은 경로(속도)로 가야 하므로
   - 변형 패턴 비율을 5% 이하로 줄이는 것을 권장

3. **학습 진행 가능**
   - 현재 88.8% 일관성으로도 학습은 가능
   - 하지만 일관성을 높이면 더 나은 성능 기대

## 📝 참고사항

- **Core 패턴의 목적:** 장애물 앞까지 도착하기까지의 궤적 학습
- **일관성의 중요성:** 같은 경로(속도)로 가야 모델이 정확한 패턴을 학습
- **변형 패턴의 영향:** 작은 차이지만 학습 시 노이즈로 작용할 수 있음

