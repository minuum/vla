# 가이드 데이터 및 패턴 분석 보고서

## 1. 개요
본 문서는 현재 시스템에서 사용되는 가이드(로봇 주행 경로)와 데이터셋(`mobile_vla_dataset`), 그리고 레거시 데이터셋(`mobile_vla_dataset_legacy`)에 저장된 주요 가이드 패턴을 비교 분석한 결과입니다.

## 2. 가이드 소스별 비교

| 소스 (Source) | 파일/위치 | 주요 패턴 (1box_left) | 마지막 액션 | 비고 |
|---|---|---|---|---|
| **코드 기본값** | `mobile_vla_data_collector.py` | `... Q Q Q Q W W W W Q` | **Q (대각선)** | 데이터셋 모드 시 강제 적용되던 값 |
| **현재 데이터셋** | `mobile_vla_dataset/core_patterns.json` | `... Q Q Q Q W W W W W` | **W (전진)** | 사용자가 수동으로 편집/저장한 최신 가이드 |
| **레거시 데이터셋** | `mobile_vla_dataset_legacy/core_patterns.json` | `... Q Q Q Q W W W W W` | **W (전진)** | 백업된 과거 가이드 (현재와 동일) |

## 3. 상세 분석

### 3.1 코드 내 하드코딩된 기본값 (Dataset Mode Default)
시스템이 "데이터셋 모드"일 때 참조하는 기본 가이드입니다. 최근 수정 전까지 사용자가 수동으로 가이드를 편집해도 이 값이 우선순위를 가졌습니다.
- **경로**: `W W W A Q Q Q Q Q Q Q Q W W W W Q`
- **특징**: 마지막에 `Q` 액션이 있어 로봇이 회전하거나 대각선으로 움직이며 끝납니다.

### 3.2 현재 데이터셋 (`mobile_vla_dataset`)
사용자가 `H` 키를 통해 편집하고 저장한 가이드가 `core_patterns.json` 파일에 저장되어 있습니다.
- **경로**: `W W W A Q Q Q Q Q Q Q Q W W W W W`
- **특징**: 마지막 액션이 `W`로 수정되어 있습니다. 이는 사용자가 의도한 올바른 경로입니다.
- **상태**: 현재 시스템이 "수동 모드"로 자동 전환되도록 패치되었으므로, 이 가이드가 정상적으로 사용됩니다.

### 3.3 레거시 데이터셋 (`mobile_vla_dataset_legacy`)
과거 데이터 백업 폴더입니다. 확인 결과, 이곳의 `core_patterns.json`도 현재 데이터셋과 동일하게 업데이트되어 있습니다.
- **경로**: `W W W A Q Q Q Q Q Q Q Q W W W W W`
- **특징**: 현재 데이터셋과 동기화되어 있거나, 이전에 동일하게 편집된 기록이 남아있습니다.

## 4. 결론 및 조치 사항

1.  **일치 여부**: `mobile_vla_dataset`과 `mobile_vla_dataset_legacy`의 가이드 설정은 **동일**합니다.
2.  **불일치 원인**: 로봇이 예상과 다르게 움직였던 이유는 파일 간의 차이가 아니라, 코드가 파일 설정 대신 **하드코딩된 기본값(Q로 끝남)**을 우선 사용했기 때문입니다.
3.  **해결**: 코드 수정(자동 수동 모드 전환)을 통해 이제 파일에 저장된 **'W'로 끝나는 가이드**가 정상적으로 로드되어 실행됩니다.
