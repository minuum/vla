# λ³€κ²½ μ΄λ ¥ (2025-11-14)

## π“‹ μ»¤λ°‹ μ”μ•½

### λ©”μΈ λ ν¬μ§€ν† λ¦¬
- **μ»¤λ°‹ 1:** `feat: Mobile VLA LoRA νμΈνλ‹ κµ¬μ΅° μ™„μ„±` (70bc59d)
- **μ»¤λ°‹ 2:** `chore: μ„λΈλ¨λ“ μ—…λ°μ΄νΈ (MobileVLAH5Dataset κµ¬μ΅° μμ •)` (4fd71a3)

### μ„λΈλ¨λ“ (RoboVLMs_upstream)
- **μ»¤λ°‹:** `feat: MobileVLAH5Dataset κµ¬μ΅° μμ • (DiskCalvinDataset κµ¬μ΅° μ¤€μ)` (c78556c)

---

## π”§ μ£Όμ” λ³€κ²½μ‚¬ν•­

### 1. Config μμ •
**νμΌ:** `Mobile_VLA/configs/mobile_vla_20251114_lora.json`
- `window_size`: 4 β†’ **8** (RoboVLMs κΈ°λ³Έκ°’)
- `action_dim`: 7 β†’ **2** (2D navigation)
- `act_head` λ‚΄λ¶€ μ„¤μ • μ μ§€

### 2. λ°μ΄ν„°μ…‹ κµ¬μ΅° μμ •
**νμΌ:** `RoboVLMs_upstream/robovlms/data/mobile_vla_h5_dataset.py`

#### `__getitem__` μμ •
- **μ΄μ „:** `window_size` ν”„λ μ„λ§ λ΅λ“, chunk ν•νƒ λ°ν™
- **μμ •:** `window_size + fwd_pred_next_n = 18` ν”„λ μ„ λ΅λ“, μ‹ν€€μ¤ ν•νƒ λ°ν™
- **μ•΅μ…:** `(18, 2)` μ‹ν€€μ¤ ν•νƒ

#### `collater` μμ •
- **μ΄μ „:** `generate_chunck_data` μ‚¬μ© (shape λ¶μΌμΉ)
- **μμ •:** `unfold` λ°©μ‹ μ‚¬μ© (DiskCalvinDatasetκ³Ό λ™μΌ)
- **κµ¬μ΅°:** DiskCalvinDatasetκ³Ό μ™„μ „ν λ™μΌ

#### λ°ν™ ν‚¤ μμ •
- `'action'` β†’ `'actions'`
- `'lang'` μ¶”κ°€
- `'action_mask'`, `'image_mask'` μ¶”κ°€

### 3. text_fn μ΄κΈ°ν™” μ¶”κ°€
- `__init__`μ—μ„ `tokenizer`, `tokenizer_config` λ°›μ•„μ„ `text_fn` μƒμ„±
- `get_text_function` μ‚¬μ©ν•μ—¬ kosmos tokenizer μ§€μ›

---

## π“ μ¶”κ°€λ λ¬Έμ„

### μ¤‘μ•™ μ§€μ‹ λ² μ΄μ¤
- **`PROJECT_CENTRAL_KNOWLEDGE_BASE.md`**: ν”„λ΅μ νΈμ ν•µμ‹¬ μ •λ³΄ μ¤‘μ•™ κ΄€λ¦¬

### λ¶„μ„ λ¬Έμ„
- **`ROBOVLMS_STRUCTURE_ANALYSIS_20251114.md`**: RoboVLMs κµ¬μ΅° λ¶„μ„ λ° 18ν”„λ μ„ μλ„ ν™•μΈ
- **`CORE_PATTERN_ANALYSIS_20251114.md`**: Core ν¨ν„΄ μƒμ„Έ λ¶„μ„ (5κ° κ³ μ  ν¨ν„΄)
- **`TRAJECTORY_ANALYSIS_20251114.md`**: Trajectory λ¶„μ„ λ° νμΈνλ‹ μν–¥ ν‰κ°€
- **`CODE_REVIEW_MOBILE_VLA_20251114.md`**: μ½”λ“ λ¦¬λ·° λ° μμ •μ‚¬ν•­

### κ°€μ΄λ“ λ¬Έμ„
- **`LORA_FINETUNING_GUIDE_20251114.md`**: LoRA νμΈνλ‹ κ°€μ΄λ“
- **`H5_EPISODE_ANALYSIS_REPORT.md`**: H5 μ—ν”Όμ†λ“ λ¶„μ„ λ¦¬ν¬νΈ

### μ¤ν¬λ¦½νΈ
- **`analyze_h5_episodes.py`**: H5 μ—ν”Όμ†λ“ λ¶„μ„ μ¤ν¬λ¦½νΈ
- **`run_lora_finetune_20251114.sh`**: LoRA νμΈνλ‹ μ‹¤ν–‰ μ¤ν¬λ¦½νΈ

---

## π― ν•µμ‹¬ λ°κ²¬μ‚¬ν•­

### 1. 18ν”„λ μ„ μμ§‘ μλ„ ν™•μΈ
- **RoboVLMs κΈ°λ³Έ μ„¤μ •:** `window_size=8`, `fwd_pred_next_n=10`
- **18ν”„λ μ„ = 8 + 10** (μ •ν™•ν μΌμΉ)
- λ°μ΄ν„° μμ§‘ μ‹μ λ¶€ν„° RoboVLMs κµ¬μ΅°λ¥Ό κ³ λ ¤ν• μ„¤κ³„

### 2. λ°μ΄ν„°μ…‹ κµ¬μ΅° νΈν™μ„±
- DiskCalvinDataset κµ¬μ΅° μ™„μ „ μ¤€μ
- `unfold` λ°©μ‹μΌλ΅ chunk μƒμ„± (λ” μ•μ •μ )

### 3. Core ν¨ν„΄ λ¶„μ„
- **κ³ μ  ν¨ν„΄:** 5κ°
- **μ£Όμ” ν¨ν„΄ μΌκ΄€μ„±:** 88.8%
- **νμΈνλ‹ μν–¥:** λ¬Έμ  μ—†μ

### 4. Trajectory λ¶„μ„
- λ€κ°μ„  μ•΅μ… (Q, E) μ‚¬μ©μ΄ μμ—°μ¤λ¬μ›€
- μ•΅μ… μ •κ·ν™”: `Β±1.15` β†’ `Β±1.0` ν΄λ¨ν•‘ (μ •μƒ)
- νμΈνλ‹μ— λ¬Έμ  μ—†μ

---

## β… κ²€μ¦ μ™„λ£

1. β… Config μΌκ΄€μ„± ν™•μΈ
2. β… λ°μ΄ν„°μ…‹ κµ¬μ΅° κ²€μ¦
3. β… μ½”λ“ λ¦¬λ·° μ™„λ£
4. β… λ¬Έμ„ν™” μ™„λ£
5. β… μ»¤λ°‹ λ° ν‘Έμ‹ μ™„λ£

---

## π“ λ‹¤μ λ‹¨κ³„

1. **μ‹¤μ  ν•™μµ μ‹¤ν–‰**
   - LoRA νμΈνλ‹ μ‹¤ν–‰
   - μ„±λ¥ λ¨λ‹ν„°λ§

2. **λ°μ΄ν„° ν’μ§ κ°μ„ **
   - Core ν¨ν„΄ μΌκ΄€μ„± ν–¥μƒ
   - κ°€μ΄λ“ μ •ν™•λ„ ν–¥μƒ

3. **λ…Όλ¬Έ μ¤€λΉ„**
   - μ‹¤ν— κ²°κ³Ό μ •λ¦¬
   - λ°©λ²•λ΅  λ¬Έμ„ν™”

