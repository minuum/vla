# 🔍 실제 모델 훈련 데이터셋 분석

## 📊 실제 훈련에 사용된 데이터셋 매핑

| 모델명 | 훈련 스크립트 | 데이터셋 경로 | 데이터셋 타입 | 증강 여부 | 데이터 크기 | MAE 성능 |
|--------|---------------|---------------|---------------|-----------|-------------|----------|
| **Pure Kosmos2** | `train_simple_lstm_core.py` | `/home/billy/25-1kp/vla/ROS_action/mobile_vla_dataset/` | **원본 72 에피소드** | ❌ | 72개 | 0.247 |
| **Kosmos2+CLIP Hybrid** | `train_simple_clip_lstm_core.py` | `/home/billy/25-1kp/vla/ROS_action/mobile_vla_dataset/` | **원본 72 에피소드** | ❌ | 72개 | 0.212 |
| **Simple CLIP** | `train_original_72_episodes.py` | `mobile_vla_dataset/` | **원본 72 에피소드** | ❌ | 72개 | 0.451 |
| **CLIP with LSTM** | `train_original_72_episodes.py` | `mobile_vla_dataset/` | **원본 72 에피소드** | ❌ | 72개 | 0.456 |
| **Original CLIP** | `train_original_72_episodes.py` | `mobile_vla_dataset/` | **원본 72 에피소드** | ❌ | 72개 | 0.494 |
| **Original CLIP (증강)** | `train_original_clip_augmented.py` | `legacy/augmented_dataset/` | **증강 데이터** | ✅ | 720개 | 0.672 |

## 🎯 핵심 발견사항

### **1. 데이터셋 사용 현황**
- **원본 72 에피소드**: 대부분의 모델이 실제로는 원본 데이터만 사용
- **증강 데이터**: `Original CLIP (증강)` 모델만 사용
- **성능 역전**: 원본 데이터 사용 모델들이 증강 데이터 사용 모델보다 우수한 성능

### **2. 실제 증강 데이터 구성**
```
legacy/augmented_dataset/
├── metadata.json (증강 통계)
├── episode_0000/ (341개 - Horizontal Flip)
├── episode_0001/ (180개 - Forward/Backward Flip)
├── episode_0002/ (522개 - Action Noise)
├── episode_0003/ (215개 - Speed Variation)
├── episode_0004/ (128개 - Start/Stop Pattern)
└── episode_0005/ (91개 - Original)
```

### **3. 증강 기법별 상세 분석**

#### **Horizontal Flip (47.4%)**
- **적용 방법**: 이미지 좌우 반전 + 액션 x축 부호 반전
- **물리적 합리성**: ⭐⭐⭐⭐ (실제 좌우 대칭 상황)
- **생성 수**: 341개 에피소드

#### **Action Noise (72.5%)**
- **적용 방법**: 액션 벡터에 가우시안 노이즈 (σ=0.005) 추가
- **물리적 합리성**: ⭐⭐⭐⭐⭐ (실제 제어 불확실성)
- **생성 수**: 522개 에피소드

#### **Forward/Backward Flip (25.0%)**
- **적용 방법**: 시퀀스 순서 역전 + 액션 방향 반전
- **물리적 합리성**: ⭐⭐⭐⭐⭐ (실제 역순 행동)
- **생성 수**: 180개 에피소드

#### **Speed Variation (29.9%)**
- **적용 방법**: 액션 벡터 스케일링 (0.8x~1.2x)
- **물리적 합리성**: ⭐⭐⭐⭐ (다양한 속도 범위)
- **생성 수**: 215개 에피소드

#### **Start/Stop Pattern (17.8%)**
- **적용 방법**: 시작/끝에 정지 패턴 추가
- **물리적 합리성**: ⭐⭐⭐⭐ (안전한 제어)
- **생성 수**: 128개 에피소드

## 📈 성능 분석 결과

### **예상과 다른 결과**
1. **증강 데이터 사용 모델이 성능이 낮음**: MAE 0.672
2. **원본 데이터 사용 모델들이 우수한 성능**: MAE 0.212~0.494
3. **증강의 역효과**: 10배 데이터 증가에도 불구하고 성능 저하

### **가능한 원인**
1. **증강 기법의 복잡성**: 너무 많은 변형으로 인한 학습 어려움
2. **데이터 품질**: 증강 과정에서 원본 데이터의 핵심 특성 손실
3. **모델 복잡성**: 단순한 CLIP 모델이 복잡한 증강 데이터 처리에 어려움
4. **과적합**: 증강 데이터로 인한 과적합 발생

## 🎯 결론 및 시사점

### **1. 증강 기법의 한계**
- **물리적 합리성**: 모든 증강 기법이 물리적으로 타당
- **성능 효과**: 실제로는 성능 향상보다 저하 초래
- **적용 범위**: 특정 모델 아키텍처에만 효과적일 수 있음

### **2. 데이터 품질의 중요성**
- **원본 데이터의 가치**: 72개 에피소드만으로도 우수한 성능 달성
- **증강의 신중한 적용**: 무조건적인 데이터 증강보다는 신중한 접근 필요
- **모델별 최적화**: 각 모델 아키텍처에 맞는 맞춤형 증강 전략 필요

### **3. 향후 연구 방향**
1. **선택적 증강**: 모든 기법을 동시 적용보다는 선택적 적용
2. **모델별 최적화**: 각 모델 특성에 맞는 증강 기법 개발
3. **품질 관리**: 증강 데이터의 품질 검증 메커니즘 구축
4. **점진적 적용**: 단계별 증강으로 최적 조합 탐색

## 📊 최종 권장사항

| 모델 타입 | 권장 데이터셋 | 증강 기법 | 예상 성능 |
|-----------|---------------|-----------|-----------|
| **Kosmos2 기반** | 원본 72 에피소드 | 선택적 Action Noise | MAE < 0.25 |
| **CLIP 기반** | 원본 72 에피소드 | Horizontal Flip만 | MAE < 0.45 |
| **하이브리드** | 원본 72 에피소드 | Forward/Backward Flip | MAE < 0.22 |
| **실험적** | 증강 데이터 | 점진적 적용 | MAE < 0.30 |
